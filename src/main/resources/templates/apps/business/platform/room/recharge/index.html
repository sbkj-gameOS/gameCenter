<div class="layui-layout layui-layout-content">
    <div class="layui-side layui-beimi-left">
        <div class="layui-side-scroll">
            <#include "/apps/business/platform/include/left.html"/>
        </div>
    </div>
    <div class="layui-body">
        <div class="layui-side-scroll">
            <div class="row">
                <h1 class="site-h1" style="background-color:#FFFFFF;">
                    房卡充值后台管理界面
                </h1>
                <div class="col-lg-12">
                    <div class="user_online" style="height:60px;">
                        <form class="layui-form" action="">
                            <div class="layui-form-item" style="position: relative">
                                <label class="layui-form-label " style="display: block;margin-top:10px; text-align: center;width:50px">
                                    用户名:
                                </label>
                                <div class="layui-input-block col-lg-2 col-md-2 col-sm-2 col-xs-1" style="width:200px; display: block;float:left;">
                                    <input type="text" id="rechange_name" name="title" required  lay-verify="required" placeholder="" autocomplete="off" class="layui-input" style="margin-left: 20px;">
                                </div>
                                <label class="layui-form-label" style="display: block;margin-top:10px; text-align:center;width:80px;">
                                    邀请码:
                                </label>
                                <div class="layui-input-block col-lg-2 col-md-2 col-sm-2 col-xs-1" style="width:200px; display: block;float:left;">
                                    <input type="text" id="rechange_code" name="title" required lay-verify="required" placeholder="" autocomplete="off" class="layui-input" style="margin-left: 20px;">
                                </div>
                                <div class="layui-inline" style="margin-top: 10px;">
                                    <label class="layui-form-label">购买时间:</label>
                                    <div class="layui-input-inline" style="width: 100px;">
                                        <input type="text" name="price_min" placeholder="" autocomplete="off" class="layui-input">
                                    </div>
                                    <div class="layui-form-mid">-</div>
                                    <div class="layui-input-inline" style="width: 100px;">
                                        <input type="text" name="price_max" placeholder="" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="boxs col-lg-2 col-md-2 col-sm-2 col-xs-1" style="width: 100px;height:40px;float:right;">
                                    <button class="layui-btn layui-btn-radius layui-btn-normal" onclick="queryTj()" type="button" style="display: block; float:left; width:100px; height:40px;margin-top: 10px;margin-left:-400px;border-radius: 3px">
                                        查询
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="row" style="padding:5px;">
                        <div class="col-lg-12">
                            <table class="layui-table" id="recharge_table" lay-filter="test">
                                <thead style="width: 100%">
                                <tr>
                                    <th lay-data="{field:'id', width:180}">序号</th>
                                    <th lay-data="{field:'userName',width:200}">用户名</th>
                                    <th lay-data="{field:'invitationCode',width:200}">邀请码</th>
                                    <th lay-data="{field:'rechargeTime',width:180}">充值时间</th>
                                    <th lay-data="{field:'roomCount',width:180}">房卡数量</th>
                                    <!--<th lay-data="{field:'originalPrice',width:140}">原价</th>-->
                                    <!--<th lay-data="{field:'preferentialAmount',width:160}">优惠金额</th>-->
                                    <th lay-data="{field:'payAmount',width:180}">支付金额</th>
                                    <th lay-data="{field:'directlyTheLastAmount', width:220}">直接上家分润金额</th>
                                    <th lay-data="{field:'indirectTheLastAmount', width:220}">间接上家分润金额</th>
                                </tr>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>

layui.use('element', function () {
    var element = layui.element;
});
var table;
//后台数据
layui.use('table', function(){
    table = layui.table;
    table.render({height:640,url:'/roomCard/getRechargeJson', page:true, id:'test',where: {userName:"f",invitationCode: ""}});
});
    function queryTj(){
        var txt=$("#rechange_name").val();
        var txtserach=$("#rechange_code").val();
//        tableObj.reload('test', {
//            where: { //设定异步数据接口的额外参数，任意设
//                userName:txt,
//                invitationCode: txtserach
//            }
//        });
        table.render({ //其它参数在此省略
            height:640,url:'/roomCard/getRechargeJson',
            where: { //设定异步数据接口的额外参数，任意设
                userName:"",
                invitationCode: ""
            }
        });
    }
</script>
<!--  table.render({height:640,url:'/roomCard/getRechargeJson',where: {userName:"",invitationCode: ""}});  -->
